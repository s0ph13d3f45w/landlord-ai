<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Propiedades - SuperAdmin AI</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/dashboard-modern.css">
</head>
<body>
  <div class="dashboard-container">
    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="logo">
        <h1><span class="logo-icon">ğŸ </span> SuperAdmin AI</h1>
      </div>
      
      <nav>
        <ul class="nav-menu">
          <li class="nav-item">
            <a href="/dashboard" class="nav-link">
              <span class="nav-icon">ğŸ“Š</span>
              Panel
            </a>
          </li>
          <li class="nav-item">
            <a href="/dashboard/properties" class="nav-link active">
              <span class="nav-icon">ğŸ¢</span>
              Propiedades
            </a>
          </li>
          <li class="nav-item">
            <a href="/dashboard/tenants" class="nav-link">
              <span class="nav-icon">ğŸ‘¥</span>
              Inquilinos
            </a>
          </li>
          <li class="nav-item">
            <a href="/logout" class="nav-link">
              <span class="nav-icon">ğŸšª</span>
              Cerrar SesiÃ³n
            </a>
          </li>
        </ul>
      </nav>
      
      <div class="sidebar-footer" style="padding: 1rem 2rem; margin-top: auto; border-top: 1px solid var(--border); color: var(--text-medium);">
        <p><%= landlordName %></p>
      </div>
    </aside>
    
    <!-- Main Content -->
    <main class="main-content">
      <header class="dashboard-header">
        <h2>Mis Propiedades</h2>
        <p class="header-subtitle">Administra tus propiedades</p>
      </header>
      
      <div class="button-group">
        <button class="btn btn-primary" onclick="showAddPropertyModal()">
          <span>â•</span> Agregar Propiedad
        </button>
      </div>
      
      <div class="tenants-grid">
        <% if (properties.length === 0) { %>
          <div class="empty-state">
            <div class="empty-icon">ğŸ¢</div>
            <h3>No hay propiedades todavÃ­a</h3>
            <p>Â¡Agrega tu primera propiedad para comenzar!</p>
          </div>
        <% } else { %>
          <% properties.forEach(function(prop) { %>
            <div class="tenant-card">
              <div class="tenant-header">
                <div>
                  <h4 class="tenant-name"><%= prop.address %></h4>
                  <p class="tenant-property">
                    <span class="tenant-icon">ğŸ’°</span>
                    $<%= prop.monthly_rent %> MXN/mes
                  </p>
                </div>
              </div>
              
              <div class="tenant-info">
                <div class="info-row">
                  <span class="info-icon">ğŸ“…</span>
                  <span>Renta vence: DÃ­a <%= prop.rent_due_day %></span>
                </div>
                <% if (prop.special_instructions) { %>
                <div class="info-row">
                  <span class="info-icon">ğŸ“</span>
                  <span><%= prop.special_instructions %></span>
                </div>
                <% } %>
              </div>
            </div>
          <% }); %>
        <% } %>
      </div>
    </main>
  </div>
  
  <!-- Add Property Modal -->
  <div id="addPropertyModal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeModal()">&times;</span>
      <h2>Agregar Nueva Propiedad</h2>
      <form action="/dashboard/properties/add" method="POST">
        <input type="text" name="address" placeholder="DirecciÃ³n de la Propiedad" required>
        <input type="number" name="monthly_rent" placeholder="Renta Mensual (MXN)" required>
        <input type="number" name="rent_due_day" placeholder="DÃ­a de Vencimiento (1-31)" min="1" max="31" required>
        <textarea name="special_instructions" placeholder="Instrucciones Especiales (opcional)" rows="3"></textarea>
        <button type="submit" class="btn btn-primary">Agregar Propiedad</button>
      </form>
    </div>
  </div>
  
  <script>
    function showAddPropertyModal() {
      document.getElementById('addPropertyModal').style.display = 'block';
    }
    
    function closeModal() {
      document.getElementById('addPropertyModal').style.display = 'none';
    }
    
    window.onclick = function(event) {
      if (event.target.className === 'modal') {
        event.target.style.display = 'none';
      }
    }
  </script>
</body>
</html>
